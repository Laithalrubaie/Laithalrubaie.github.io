<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุงุณุจุฉ ุฃุฑุจุงุญ ุชูู ุชูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #f0f2f5;
            direction: rtl;
            text-align: right;
        }
        .container {
            max-width: 800px;
        }
        .input-group label {
            font-weight: 600;
        }
        .input-group input {
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 8px;
            transition: border-color 0.3s;
        }
        .input-group input:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
        }
        .output-box {
            background-color: #e2f0ff;
            border: 2px solid #4a90e2;
            border-radius: 12px;
        }
        .output-box p {
            font-size: 1.125rem;
            font-weight: 600;
        }
        .profit-status {
            font-weight: 700;
            padding: 8px 16px;
            border-radius: 8px;
        }
        .profit {
            background-color: #d4edda;
            color: #155724;
        }
        .unprofitable {
            background-color: #f8d7da;
            color: #721c24;
        }
        .fixed-note {
            background-color: #ffeccf;
            border-left: 4px solid #f6ad55;
            padding: 12px;
            border-radius: 8px;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 sm:p-8">
    <div class="container mx-auto bg-white rounded-xl shadow-lg p-6 sm:p-10 my-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-center text-gray-800 mb-6">ุญุงุณุจุฉ ุงูุฃุฑุจุงุญ </h1>
        <p class="text-center text-gray-600 mb-8">ุญุท ูุนูููุงุชู ุญุชู ุชุนุฑู ุญููุชู ุงูุฅุนูุงููุฉ ูุฑุจุญุฉ ูู ูุง. ๐</p>

        <!-- Inputs Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <!-- Wholesale Price -->
            <div class="input-group flex flex-col">
                <label for="wholesalePrice" class="mb-2">ุณุนุฑ ุงูุฌููุฉ (ุจุงูุนุฑุงูู) ๐๏ธ</label>
                <input type="number" id="wholesalePrice" placeholder="ุณุนุฑ ุงูุดุฑุงุก ูู ุงูููุฑุฏ" class="bg-gray-50 focus:bg-white">
                <p class="text-sm text-gray-500 mt-1">ุดฺฏุฏ ุชูููู ุงูุจุถุงุนุฉ ูู ุชุดุชุฑููุง ุจุงูุฌููุฉ.</p>
            </div>
            <!-- Delivery Cost -->
            <div class="input-group flex flex-col">
                <label for="deliveryCost" class="mb-2">ุณุนุฑ ุงูุชูุตูู (ุจุงูุนุฑุงูู) ๐</label>
                <input type="number" id="deliveryCost" placeholder="ูููุฉ ุงูุชูุตูู ููุทูุจ ุงููุงุญุฏ" class="bg-gray-50 focus:bg-white">
                <p class="text-sm text-gray-500 mt-1">ูููุฉ ุชูุตูู ุงูุทูุจ ุงููุงุญุฏ.</p>
            </div>
            <!-- Delivery Rate -->
            <div class="input-group flex flex-col">
                <label for="deliveryRate" class="mb-2">ูุณุจุฉ ุงูุงุณุชูุงู (%) โ</label>
                <input type="number" id="deliveryRate" placeholder="ูุณุจุฉ ุงูุทูุจุงุช ุงููู ุชุณุชูููุง" class="bg-gray-50 focus:bg-white">
                <p class="text-sm text-gray-500 mt-1">ุงููุณุจุฉ ุงููุชููุนุฉ ูู ุงูุฒุจุงูู ุงููู ูุณุชูููู ุทูุจุงุชูู ูุนูุงู.</p>
            </div>
            <!-- Final Selling Price -->
            <div class="input-group flex flex-col">
                <label for="sellingPriceInput" class="mb-2">ุณุนุฑ ุงูุจูุน ููุฒุจูู (ุจุงูุนุฑุงูู) ๐ฐ</label>
                <input type="number" id="sellingPriceInput" placeholder="ุงูุณุนุฑ ุงููู ุชุจูุนู ููุฒุจูู" class="bg-gray-50 focus:bg-white">
                <p class="text-sm text-gray-500 mt-1">ุงูุณุนุฑ ุงููู ุชุทูุจู ูู ุงูุฒุจูู.</p>
            </div>
            <!-- Daily Budget -->
            <div class="input-group flex flex-col">
                <label for="dailyBudget" class="mb-2">ุงูููุฒุงููุฉ ุงูููููุฉ ($) ๐๏ธ</label>
                <input type="number" id="dailyBudget" placeholder="ุงููุจูุบ ุงููุฎุตุต ููููุงู" class="bg-gray-50 focus:bg-white">
                <p class="text-sm text-gray-500 mt-1">ุงููููุณ ุงููู ุชุตุฑููุง ููููุงู ุนูู ุงูุฅุนูุงูุงุช.</p>
            </div>
            <!-- Maximum CPA (Input) -->
            <div class="input-group flex flex-col">
                <label for="maximumCPAInput" class="mb-2">ูููุฉ ุงูุทูุจ ุงููู ุตุงุฑุช ($) ๐ฏ</label>
                <input type="number" id="maximumCPAInput" placeholder="ุงููููุฉ ุงููุนููุฉ ููุทูุจ" class="bg-gray-50 focus:bg-white">
                <p class="text-sm text-gray-500 mt-1">ุฃุนูู ูููุฉ ุฃูุช ุชูุจููุง ุญุชู ุชุญุตู ุนูู ุทูุจ ูุงุญุฏ.</p>
            </div>
        </div>

        <hr class="my-8">

        <!-- Outputs Section -->
        <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">ุงููุชุงุฆุฌ ๐</h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
            <!-- Gross Profit -->
            <div class="output-box p-4 flex flex-col">
                <p class="text-gray-700">ุตุงูู ุงูุฑุจุญ ููุทูุจ (ุจุงูุนุฑุงูู) ๐ค</p>
                <span id="grossProfit" class="text-xl font-bold text-gray-900 mt-2">0 IQD</span>
            </div>
            <!-- Adjusted Profit -->
            <div class="output-box p-4 flex flex-col">
                <p class="text-gray-700">ุงูุฑุจุญ ุจุนุฏ ูุณุจุฉ ุงูุงุณุชูุงู (ุจุงูุนุฑุงูู) ๐</p>
                <span id="adjustedProfit" class="text-xl font-bold text-gray-900 mt-2">0 IQD</span>
            </div>
            <!-- Maximum CPA -->
            <div class="output-box p-4 flex flex-col col-span-1 sm:col-span-2">
                <p class="text-gray-700">ุฃุนูู ูููุฉ ููุทูุจ ุงููุณููุญ ุจููุง ($) ๐ฏ</p>
                <span id="maximumCPA" class="text-xl font-bold text-gray-900 mt-2">0 USD</span>
                <div id="profitStatus" class="profit-status text-center mt-4 hidden"></div>
            </div>
            <!-- Required Orders per Day -->
            <div class="output-box p-4 flex flex-col col-span-1 sm:col-span-2">
                <p class="text-gray-700">ุงูุทูุจุงุช ุงููุทููุจุฉ ููููุงู ููุฑุจุญ ๐ฆ</p>
                <span id="requiredOrders" class="text-xl font-bold text-gray-900 mt-2">0 ุทูุจ</span>
            </div>
        </div>
    </div>

    <script>
        const fixedExchangeRate = 1500; // ุณุนุฑ ุงูุตุฑู ุซุงุจุช 1500
        const inputs = [
            'wholesalePrice', 'deliveryCost', 'deliveryRate',
            'sellingPriceInput', 'dailyBudget', 'maximumCPAInput'
        ];

        // ูุถูู ูุณุชูุน ูุญุฏุซ "input" ููู ุงูุญููู
        inputs.forEach(id => {
            const input = document.getElementById(id);
            if (input) {
                input.addEventListener('input', calculate);
            }
        });

        function calculate() {
            // ูุฌูุจ ุงูููู ูู ุงูุญููู
            const wholesalePrice = parseFloat(document.getElementById('wholesalePrice').value) || 0;
            const deliveryCost = parseFloat(document.getElementById('deliveryCost').value) || 0;
            const deliveryRate = parseFloat(document.getElementById('deliveryRate').value) || 0;
            const sellingPriceInput = parseFloat(document.getElementById('sellingPriceInput').value) || 0;
            const dailyBudget = parseFloat(document.getElementById('dailyBudget').value) || 0;
            const maximumCPAInput = parseFloat(document.getElementById('maximumCPAInput').value) || 0;

            // ุญุณุงุจ ุงูุฑุจุญ ุงูุตุงูู
            const grossProfit = sellingPriceInput - wholesalePrice - deliveryCost;
            document.getElementById('grossProfit').textContent = `${grossProfit.toFixed(2)} IQD`;

            // ุญุณุงุจ ุงูุฑุจุญ ุจุนุฏ ูุณุจุฉ ุงูุงุณุชูุงู
            const adjustedProfit = grossProfit * (deliveryRate / 100);
            document.getElementById('adjustedProfit').textContent = `${adjustedProfit.toFixed(2)} IQD`;

            // ุญุณุงุจ ุฃุนูู ูููุฉ ููุทูุจ ูุณููุญุฉ
            let maxCPAFromCalculation = 0;
            if (fixedExchangeRate > 0) {
                maxCPAFromCalculation = adjustedProfit / fixedExchangeRate;
            }
            document.getElementById('maximumCPA').textContent = `${maxCPAFromCalculation.toFixed(2)} USD`;

            // ุญุณุงุจ ุนุฏุฏ ุงูุทูุจุงุช ุงููุทููุจุฉ ููููุงู
            let requiredOrders = 0;
            if (maxCPAFromCalculation > 0) {
                requiredOrders = dailyBudget / maxCPAFromCalculation;
            }
            document.getElementById('requiredOrders').textContent = `${requiredOrders.toFixed(2)} ุทูุจ`;

            // ุชุญุฏูุฏ ุญุงูุฉ ุงูุฑุจุญูุฉ
            const profitStatusDiv = document.getElementById('profitStatus');
            const actualCPA = maximumCPAInput;

            if (actualCPA > 0) {
                profitStatusDiv.classList.remove('hidden');
                if (actualCPA <= maxCPAFromCalculation) {
                    profitStatusDiv.textContent = '๐ฅณ ุงูุญููุฉ ูุฑุจุญุฉ! ูููุฉ ุงูุทูุจ ุงููุนููุฉ ูู ุถูู ุงูุญุฏ ุงูุฃูุตู ุงูููุจูู. โ';
                    profitStatusDiv.className = 'profit-status profit text-center mt-4';
                } else {
                    profitStatusDiv.textContent = 'โ ุงูุญููุฉ ุบูุฑ ูุฑุจุญุฉ! ูููุฉ ุงูุทูุจ ุงููุนููุฉ ุฃุนูู ูู ุงูุญุฏ ุงูุฃูุตู. ๐ฅ';
                    profitStatusDiv.className = 'profit-status unprofitable text-center mt-4';
                }
            } else {
                profitStatusDiv.classList.add('hidden');
            }
        }
    </script>
</body>
</html>
